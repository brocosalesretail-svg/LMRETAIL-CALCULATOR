<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LeichtMix Pro System v6.0 - Rudi Philipus Edition</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #004080;
            --secondary: #f0f4f8;
            --accent: #e63946;
            --green: #00a651;
            --text: #333;
            --border: #ddd;
            --white: #ffffff;
            --shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Segoe UI', Roboto, sans-serif; }
        body { background-color: #f4f7fa; color: var(--text); display: flex; min-height: 100vh; overflow: hidden; }

        /* SIDEBAR NAVIGATION */
        .sidebar {
            width: 280px; background: linear-gradient(180deg, var(--primary) 0%, #002a54 100%);
            color: white; padding: 30px 20px; display: flex; flex-direction: column; flex-shrink: 0;
            box-shadow: 4px 0 10px rgba(0,0,0,0.1); z-index: 1000;
        }
        .sidebar-brand { font-size: 1.5rem; font-weight: 800; margin-bottom: 40px; border-left: 5px solid var(--green); padding-left: 15px; }
        .nav-item { 
            color: #cbd5e1; text-decoration: none; padding: 14px 18px; border-radius: 10px; 
            margin-bottom: 10px; font-weight: 600; cursor: pointer; border: none; 
            background: none; width: 100%; text-align: left; transition: 0.3s;
            display: flex; align-items: center; gap: 12px;
        }
        .nav-item.active { background: rgba(255,255,255,0.15); color: white; box-shadow: var(--shadow); }
        .nav-item:hover { background: rgba(255,255,255,0.1); color: white; }

        /* MAIN CONTENT AREA */
        .main-wrapper { flex-grow: 1; overflow-y: auto; height: 100vh; display: flex; flex-direction: column; }
        header {
            background: var(--white); padding: 15px 40px; display: flex; justify-content: space-between; 
            align-items: center; border-bottom: 4px solid var(--primary); position: sticky; top: 0; z-index: 900;
        }
        .logo-box img { height: 40px; margin-right: 15px; vertical-align: middle; }

        .page { display: none; padding: 40px; animation: fadeIn 0.5s ease; }
        .page.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* DASHBOARD STYLES (From dashboard.html) */
        .hero { 
            background: linear-gradient(135deg, var(--primary) 0%, #005bb7 100%); 
            color: white; padding: 60px; border-radius: 20px; text-align: center; margin-bottom: 40px;
            box-shadow: 0 10px 25px rgba(0,64,128,0.2);
        }
        .hero h1 { font-size: 2.5rem; font-weight: 800; margin-bottom: 15px; }
        .stats-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 25px; margin-bottom: 40px; }
        .stat-card { background: white; padding: 25px; border-radius: 15px; text-align: center; box-shadow: var(--shadow); border-bottom: 5px solid var(--green); }
        .stat-card h3 { font-size: 2rem; color: var(--primary); margin-bottom: 5px; }

        /* CALCULATOR STYLES */
        .calc-container { display: grid; grid-template-columns: 1.2fr 0.8fr; gap: 30px; }
        .card { background: white; padding: 30px; border-radius: 15px; box-shadow: var(--shadow); border: 1px solid #eef2f6; }
        h2 { font-size: 1.2rem; margin-bottom: 25px; color: var(--primary); text-transform: uppercase; letter-spacing: 1px; font-weight: 800; border-left: 6px solid var(--green); padding-left: 15px; }
        
        .form-group { margin-bottom: 20px; }
        label { display: block; margin-bottom: 8px; font-weight: 700; font-size: 0.9rem; color: #444; }
        input, select { 
            width: 100%; padding: 14px; border: 2px solid #e2e8f0; border-radius: 10px; 
            font-size: 1rem; background: #f8fafc; font-weight: 600; transition: 0.3s;
        }
        input:focus { border-color: var(--primary); outline: none; background: white; }

        .result-box { 
            background: linear-gradient(135deg, var(--primary) 0%, #0056b3 100%);
            color: white; border-radius: 20px; padding: 35px; text-align: center; 
            box-shadow: 0 15px 30px rgba(0,64,128,0.3); position: sticky; top: 100px;
        }
        .result-box .num { font-size: 5rem; font-weight: 900; line-height: 1; display: block; margin: 10px 0; }
        .result-box .unit { font-size: 1.4rem; font-weight: 700; color: #7dd3fc; }

        /* CATALOG STYLES (From product.html) */
        .product-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr)); gap: 25px; }
        .prod-card { background: white; border-radius: 15px; overflow: hidden; border: 1px solid #eee; transition: 0.3s; display: flex; flex-direction: column; }
        .prod-card:hover { transform: translateY(-10px); box-shadow: 0 12px 24px rgba(0,0,0,0.1); }
        .prod-tag { background: var(--primary); color: white; padding: 12px 20px; font-weight: 800; font-size: 1.1rem; display: flex; justify-content: space-between; }
        .prod-content { padding: 20px; flex-grow: 1; }
        .prod-content ul { margin: 15px 0; padding-left: 20px; font-size: 0.85rem; color: #555; }
        .prod-specs { background: #f8fafc; padding: 15px 20px; border-top: 1px solid #eee; display: grid; grid-template-columns: 1fr 1.5fr; font-size: 0.8rem; gap: 10px; }
        .spec-label { font-weight: 700; color: #888; }

        .btn-print { 
            width: 100%; margin-top: 25px; padding: 18px; background: var(--accent); 
            color: white; border: none; border-radius: 12px; font-weight: 800; 
            cursor: pointer; transition: 0.3s; font-size: 1.1rem;
        }
        .btn-print:hover { background: #c12a36; transform: scale(1.02); }

        @media print {
            .no-print { display: none !important; }
            body { background: white; display: block; }
            .main-wrapper { height: auto; overflow: visible; }
            .card { box-shadow: none; border: 1px solid #000; }
            .result-box { background: white !important; color: black !important; border: 2px solid #000; box-shadow: none; }
            .result-box .unit { color: #000; }
        }
    </style>
</head>
<body oncontextmenu="return false;">

    <nav class="sidebar no-print">
        <div class="sidebar-brand">LM PRO SYSTEM</div>
        <button class="nav-item active" onclick="showPage('dash')">üè† Dashboard Proyek</button>
        <button class="nav-item" onclick="showPage('calc')">üßÆ Estimator Material</button>
        <button class="nav-item" onclick="showPage('katalog')">üìã Katalog Produk (21)</button>
        
        <div style="margin-top: auto; padding-top: 20px; border-top: 1px solid rgba(255,255,255,0.1); font-size: 0.75rem;">
            <p>Lisensi Eksklusif:</p>
            <p style="font-weight: 800; color: white; margin-bottom: 10px;">RUDI PHILIPUS</p>
            <p>PT. Broco Aerated Concrete Industry</p>
        </div>
    </nav>

    <div class="main-wrapper">
        <header>
            <div class="logo-box">
                <img src="https://via.placeholder.com/120x40?text=BROCO" alt="Broco Logo">
                <img src="https://via.placeholder.com/120x40?text=LeichtMix" alt="LeichtMix Logo">
            </div>
            <div style="text-align: right">
                <div id="clock" style="font-weight: 800; color: var(--primary); font-size: 1rem;"></div>
                <div style="font-size: 0.75rem; color: #666;">Version 6.0 Final Build</div>
            </div>
        </header>

        <main id="page-dash" class="page active">
            <div class="hero">
                <p style="font-style: italic; margin-bottom: 10px; opacity: 0.9;">"bersama... membangun tanah air"</p>
                <h1>LeichtMix Premium Mortar</h1>
                <p>Solusi Mortar Berkualitas Tinggi dengan Teknologi Terkini</p>
            </div>

            <div class="stats-grid">
                <div class="stat-card"><h3>21</h3><p>Varian Produk</p></div>
                <div class="stat-card"><h3>4.8/5</h3><p>Rating Workability</p></div>
                <div class="stat-card"><h3>100%</h3><p>Standar Industri</p></div>
            </div>

            <section class="card">
                <h2>Referensi Proyek Unggulan</h2>
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px; margin-top: 20px;">
                    <div style="padding: 15px; border: 1px solid #eee; border-radius: 10px;">
                        <h4 style="color: var(--primary)">Wisma Atlet Kemayoran</h4>
                        <p style="font-size: 0.75rem; color: #666;">Maincon: WIKA, Adhi, PP, Waskita</p>
                    </div>
                    <div style="padding: 15px; border: 1px solid #eee; border-radius: 10px;">
                        <h4 style="color: var(--primary)">Ciputra International</h4>
                        <p style="font-size: 0.75rem; color: #666;">Maincon: Nusa Konstruksi Enjiniring</p>
                    </div>
                    <div style="padding: 15px; border: 1px solid #eee; border-radius: 10px;">
                        <h4 style="color: var(--primary)">Amarta Head Quarter</h4>
                        <p style="font-size: 0.75rem; color: #666;">Owner: Unilever | BAM Decorient</p>
                    </div>
                </div>
            </section>
        </main>

        <main id="page-calc" class="page">
            <div class="calc-container">
                <section class="no-print">
                    <div class="card" style="margin-bottom: 25px;">
                        <h2>Data Pengukuran</h2>
                        <div class="form-group">
                            <label>Nama Sektor / Area Kerja</label>
                            <input type="text" id="proj_title" placeholder="Contoh: Dinding Lantai 1" oninput="updateUI()">
                        </div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                            <div class="form-group"><label>Panjang (m)</label><input type="number" id="inp_p" step="0.01" oninput="calc()"></div>
                            <div class="form-group"><label>L / Tinggi (m)</label><input type="number" id="inp_l" step="0.01" oninput="calc()"></div>
                        </div>
                        <div class="form-group">
                            <label>Jumlah Sisi Bidang</label>
                            <input type="number" id="inp_sisi" value="1" min="1" oninput="calc()">
                        </div>
                    </div>

                    <div class="card">
                        <h2>Konfigurasi Material</h2>
                        <div class="form-group">
                            <label>Pilih Varian LeichtMix</label>
                            <select id="sel_prod" onchange="initProduct()">
                                </select>
                        </div>
                        <div id="box-tebal" class="form-group">
                            <label>Ketebalan Aplikasi (mm)</label>
                            <input type="number" id="inp_tebal" oninput="calc()">
                        </div>
                        <div id="box-trowel" class="form-group" style="display:none">
                            <label>Ukuran Trowel (Gigi Sisir)</label>
                            <select id="sel_trowel" onchange="calc()">
                                <option value="4">Trowel 6mm (¬± 4 kg/m¬≤)</option>
                                <option value="6">Trowel 10mm (¬± 6 kg/m¬≤)</option>
                            </select>
                        </div>
                    </div>
                </section>

                <section>
                    <div class="result-box">
                        <h3 id="res_title" style="font-size: 0.8rem; text-transform: uppercase; letter-spacing: 2px; opacity: 0.8;">HASIL ESTIMASI KEBUTUHAN</h3>
                        <p id="res_prod_name" style="margin-top: 10px; font-weight: 800; color: #7dd3fc;">-</p>
                        <span class="num" id="res_sak">0</span>
                        <span class="unit" id="res_unit">SAK</span>
                        
                        <div style="margin-top: 30px; padding-top: 20px; border-top: 1px solid rgba(255,255,255,0.2); display: flex; justify-content: space-between; font-size: 0.85rem;">
                            <div>Luas: <b id="res_area">0</b> m¬≤</div>
                            <div>Total Berat: <b id="res_kg">0</b> <span id="res_mass_unit">kg</span></div>
                        </div>
                        <div style="margin-top: 10px; font-size: 0.75rem; opacity: 0.7;">*Sudah termasuk faktor waste 10%</div>
                        <button class="btn-print no-print" onclick="window.print()">CETAK LAPORAN RESMI</button>
                    </div>
                </section>
            </div>
        </main>

        <main id="page-katalog" class="page">
            <h2 style="margin-bottom: 30px;">Katalog Teknis LeichtMix (21 Produk)</h2>
            <div class="product-grid" id="catalog_container">
                </div>
        </main>
    </div>

    <script>
        // DATABASE LENGKAP 21 PRODUK (Dari product.html)
        const db = {
            // FACADE (DINDING)
            'LM101': { n: 'Base Plaster', cat: 'Facade', w: 40, dens: 1.6, t: 10, water: '5.6 - 6.4 L', pros: ['Daya rekat tinggi', 'Mencegah retak rambut', 'Aplikasi mudah'] },
            'LM110': { n: 'Render', cat: 'Facade', w: 40, dens: 1.5, t: 6, water: '8.8 - 9.2 L', pros: ['Plester sekaligus aci', 'Hemat waktu & biaya', 'Permukaan halus'] },
            'LM104': { n: 'Trasram Plaster', cat: 'Facade', w: 40, dens: 1.6, t: 10, water: '5.6 - 6.4 L', pros: ['Kedap air (water repellent)', 'Mencegah rembesan', 'Ideal untuk area lembab'] },
            'LM200': { n: 'Acian Skimcoat (Abu)', cat: 'Facade', w: 40, dens: 1.25, t: 2, water: '13.2 - 14 L', pros: ['Tanpa plamir', 'Hasil halus & tidak retak', 'Hemat cat'] },
            'LM201': { n: 'Acian Skimcoat Grey', cat: 'Facade', w: 40, dens: 1.25, t: 2, water: '13.2 - 14 L', pros: ['Warna abu semen konsisten', 'Daya rekat tinggi', 'Sangat halus'] },
            'LM202': { n: 'Acian Skimcoat White', cat: 'Facade', w: 25, dens: 1.2, t: 2, water: '8.6 - 10 L', pros: ['Putih bersih', 'Bisa langsung cat', 'Permukaan premium'] },
            
            // FLOORING (LANTAI)
            'LM701': { n: 'Floorscreed', cat: 'Flooring', w: 40, dens: 1.9, t: 20, water: '5.6 - 6.4 L', pros: ['Kuat tekan tinggi', 'Susut rendah', 'Permukaan rata'] },
            'LM1000': { n: 'Floor Hardener', cat: 'Flooring', w: 25, rate: 4, water: 'Tabur', pros: ['Tahan abrasi', 'Permukaan keras', 'Tahan beban berat'] },
            'LM1200': { n: 'Self Leveling', cat: 'Flooring', w: 25, dens: 1.6, t: 3, water: '5.4 - 6.4 L', pros: ['Mengalir otomatis', 'Permukaan sangat rata', 'Cepat kering'] },
            'LM1300': { n: 'Non Shrink Grout', cat: 'Flooring', w: 25, dens: 1.9, t: 10, water: '3.5 - 4.5 L', pros: ['Tidak susut', 'Daya alir baik', 'Kekuatan tinggi'] },

            // ADHESIVE (PEREKAT)
            'LM301': { n: 'Thin Bed Premium', cat: 'Adhesive', w: 40, rate: 4, water: '8.8 - 9.6 L', pros: ['Daya rekat sangat tinggi', 'Tebal aplikasi 2-3mm', 'Kualitas premium'] },
            'LM306': { n: 'Thin Bed Standard', cat: 'Adhesive', w: 40, rate: 4, water: '10.5 - 11.5 L', pros: ['Ekonomis & kuat', 'Khusus bata ringan', 'Workability baik'] },
            'LM601': { n: 'Tile Adhesive', cat: 'Adhesive', w: 25, type: 'trowel', water: '5.5 - 6 L', pros: ['Mencegah popping', 'Daya rekat kuat', 'Untuk keramik keramik'] },
            'LM602': { n: 'White Tile Adhesive', cat: 'Adhesive', w: 25, rate: 5, water: '6 - 7 L', pros: ['Warna putih bersih', 'Untuk mosaic & marmer', 'Tidak membekas'] },
            'LM603': { n: 'Granit Adhesive', cat: 'Adhesive', w: 25, type: 'trowel', water: '5.5 - 6 L', pros: ['Khusus Granite Tile', 'Mencegah melorot', 'Area indoor & outdoor'] },
            'LM605': { n: 'AAC Panel Adhesive', cat: 'Adhesive', w: 40, rate: 6, water: '8.4 - 9.2 L', pros: ['Khusus panel lantai', 'Daya ikat instan', 'Sangat kuat'] },
            'LM606': { n: 'Tile on Tile', cat: 'Adhesive', w: 25, type: 'trowel', water: '5.7 - 6.3 L', pros: ['Tanpa bongkar ubin lama', 'Sangat praktis', 'Daya rekat tinggi'] },
            'LM608': { n: 'Fast Set Adhesive', cat: 'Adhesive', w: 25, rate: 5, water: '5 - 6 L', pros: ['Cepat kering (6 jam)', 'Ideal untuk renovasi cepat', 'Daya rekat ekstrim'] },

            // SPECIALTY
            'LM801': { n: 'Tile Grout (Nat)', cat: 'Specialty', w: 1, rate: 0.25, water: '0.3 L', pros: ['Warna tahan lama', 'Anti jamur', 'Tidak mudah retak'] },
            'LM1100': { n: 'Repair Mortar', cat: 'Specialty', w: 25, dens: 1.8, t: 6, water: '5 - 5.6 L', pros: ['Untuk beton keropos', 'Kuat tekan tinggi', 'Cepat setting'] },
            'LM1110': { n: 'Repair Skimcoat', cat: 'Specialty', w: 40, dens: 1.2, t: 2, water: '13 - 14 L', pros: ['Memperbaiki acian retak', 'Sangat halus', 'Mudah diamplas'] },
            'LM1500': { n: 'Bonding Agent', cat: 'Specialty', w: 5, rate: 0.1, unit: 'Liter', water: 'Siap Pakai', pros: ['Penguat beton lama ke baru', 'Cairan multifungsi', 'Primer porositas'] }
        };

        function showPage(id) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            document.getElementById('page-' + id).classList.add('active');
            event.currentTarget.classList.add('active');
        }

        function populateUI() {
            const select = document.getElementById('sel_prod');
            const container = document.getElementById('catalog_container');
            const categories = ['Facade', 'Flooring', 'Adhesive', 'Specialty'];

            categories.forEach(cat => {
                const group = document.createElement('optgroup');
                group.label = cat.toUpperCase();
                
                Object.keys(db).forEach(key => {
                    const p = db[key];
                    if(p.cat === cat) {
                        // Populate Select
                        const opt = document.createElement('option');
                        opt.value = key;
                        opt.text = `${key} - ${p.n} (${p.w}${p.unit === 'Liter' ? 'L' : 'kg'})`;
                        group.appendChild(opt);

                        // Populate Catalog
                        container.innerHTML += `
                            <div class="prod-card">
                                <div class="prod-tag"><span>${key}</span><span>${p.w}${p.unit === 'Liter' ? 'L' : 'kg'}</span></div>
                                <div class="prod-content">
                                    <h4 style="color:var(--primary); font-size:1.1rem">${p.n}</h4>
                                    <ul>${p.pros.map(item => `<li>${item}</li>`).join('')}</ul>
                                </div>
                                <div class="prod-specs">
                                    <span class="spec-label">Rasio Air</span><span class="spec-value">${p.water}</span>
                                    <span class="spec-label">Aplikasi</span><span class="spec-value">${p.cat}</span>
                                </div>
                            </div>
                        `;
                    }
                });
                select.appendChild(group);
            });
        }

        function initProduct() {
            const key = document.getElementById('sel_prod').value;
            const p = db[key];
            
            document.getElementById('box-tebal').style.display = p.dens ? 'block' : 'none';
            document.getElementById('box-trowel').style.display = p.type === 'trowel' ? 'block' : 'none';
            
            if(p.dens) document.getElementById('inp_tebal').value = p.t;

            // PROTEKSI v6: Perekat (Adhesive) otomatis 1 Sisi
            const sisi = document.getElementById('inp_sisi');
            if(p.cat === 'Adhesive') {
                sisi.value = 1; sisi.readOnly = true; sisi.style.background = "#e2e8f0";
            } else {
                sisi.readOnly = false; sisi.style.background = "#f8fafc";
            }
            calc();
        }

        function calc() {
            const key = document.getElementById('sel_prod').value;
            const p = db[key];
            const L = (parseFloat(document.getElementById('inp_p').value) || 0) * (parseFloat(document.getElementById('inp_l').value) || 0) * (parseFloat(document.getElementById('inp_sisi').value) || 1);
            
            let consumption = 0;
            if(p.dens) {
                const t = parseFloat(document.getElementById('inp_tebal').value) || 0;
                consumption = L * t * p.dens;
            } else if(p.type === 'trowel') {
                consumption = L * parseFloat(document.getElementById('sel_trowel').value);
            } else {
                consumption = L * p.rate;
            }

            const totalUnit = Math.ceil((consumption * 1.1) / p.w);
            
            document.getElementById('res_prod_name').innerText = `${key} - ${p.n}`;
            document.getElementById('res_sak').innerText = isNaN(totalUnit) ? 0 : totalUnit;
            document.getElementById('res_unit').innerText = p.unit === 'Liter' ? 'JERIGEN' : (p.w <= 5 ? 'PAIL/ZAK' : 'SAK');
            document.getElementById('res_area').innerText = L.toFixed(2);
            document.getElementById('res_kg').innerText = (consumption * 1.1).toFixed(1);
            document.getElementById('res_mass_unit').innerText = p.unit === 'Liter' ? 'Liter' : 'kg';
        }

        function updateUI() {
            const val = document.getElementById('proj_title').value;
            document.getElementById('res_title').innerText = val ? "ESTIMASI: " + val : "HASIL ESTIMASI KEBUTUHAN";
        }

        setInterval(() => {
            const now = new Date();
            document.getElementById('clock').innerText = now.toLocaleTimeString('id-ID') + " | " + now.toLocaleDateString('id-ID', {day:'numeric', month:'long', year:'numeric'});
        }, 1000);

        window.onload = () => {
            populateUI();
            initProduct();
        };
    </script>
</body>
</html>
